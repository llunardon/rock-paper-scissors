<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <title>Rock-Paper-Scissors</title>
</head>

<body>
    <div class="buttons">
        <button onclick="playRound(1)" id="rock" class="choice">
            Rock
        </button>
        <button onclick="playRound(2)" id="paper" class="choice">
            Paper
        </button>
        <button onclick="playRound(3)" id="scissors" class="choice">
            Scissors
        </button>
    </div>

    <div id="computerChoice">
        Waiting for your choice...
    </div>

    <div id="result" class="results">
        <!-- Here the results will be displayed -->
    </div>
    <div style="display: flex; justify-content: center; background-color: transparent;">
        <div style="width: 200px; background-color: red; margin-right: 30px; text-align: center;">
            YOUR SCORE:
        </div>
        <div style="width: 200px; background-color: red; margin-left: 30px; text-align: center;">
            COMPUTER'S SCORE:
        </div>
    </div>
    <div class="scoresContainer">
        <div id="playerScore">
            0
        </div>
        <div id="computerScore">
            0
        </div>
    </div>
    <script>
        //generate an integer between min and max (included)
        function randomIntRange(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);

            return Math.floor(Math.random() * (max - min + 1) ) + min;
        }                      
        //generate a random choice for the round
        function computerPlay() {
            let n = randomIntRange(1,3);

            return n;
        }

        //assigns the right word to the corrispondent number
        function choiceStr(n) {
            switch(n) {
                case 1: return "rock"; 
                case 2: return "paper"; 
                case 3: return "scissors"; 

                default: return "invalid choice";
            }
        }

        //play a round of rock-paper-scissors
        function playRound(playerSelection) {
            let computerSelection = computerPlay();
            let computerChoiceStr = choiceStr(computerSelection);
            document.getElementById("computerChoice").innerHTML = `The computer chose ${computerChoiceStr}`;

            if (playerSelection === 2 & computerSelection === 1) {
                document.getElementById("result").innerHTML = "You win! Paper beats rock.";
                playerScoreDiv.textContent = ++playerPoints;
            } 
            else if (playerSelection === 2 & computerSelection === 2) {
                document.getElementById("result").innerHTML = "Tie! Paper against paper.";
            } 
            else if (playerSelection === 2 & computerSelection === 3) {
                document.getElementById("result").innerHTML = "You lose! Scissors beat paper.";
                computerScoreDiv.textContent = ++computerPoints;
            } 
            else if (playerSelection === 1 & computerSelection === 2) {
                document.getElementById("result").innerHTML = "You lose! Paper beats rock.";
                computerScoreDiv.textContent = ++computerPoints;
            } 
            else if (playerSelection === 1 & computerSelection === 3) {
                document.getElementById("result").innerHTML = "You win! Rock beats scissors.";
                playerScoreDiv.textContent = ++playerPoints;
            } 
            else if (playerSelection === 1 & computerSelection === 1) {
                document.getElementById("result").innerHTML = "Tie! Rock against rock.";
            } 
            else if (playerSelection === 3 & computerSelection === 3) {
                document.getElementById("result").innerHTML = "Tie! Scissors against scissors.";
            } 
            else if (playerSelection === 3 & computerSelection === 1) {
                document.getElementById("result").innerHTML = "You lose! Rock beats scissors";
                computerScoreDiv.textContent = ++computerPoints;
            } 
            else if (playerSelection === 3 & computerSelection === 2) {
                document.getElementById("result").innerHTML = "You win! Scissors beat Paper.";
                playerScoreDiv.textContent = ++playerPoints;
            } 
            else {
                document.getElementById("result").innerHTML = "An error occured during the round.";
            }
        }

        let playerScoreDiv = document.querySelector("#playerScore");
        let computerScoreDiv = document.querySelector("#computerScore");

        let playerPoints = 0;
        let computerPoints = 0;

        if (playerPoints === 3 )
            console.log("You won the game!");
        if (playerPoints === 3 )
            console.log("You won the game!");
    </script>
</body>
</html>
